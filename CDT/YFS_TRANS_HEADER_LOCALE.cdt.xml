<?xml version="1.0" encoding="UTF-8"?>
<YFS_TRANS_HEADER_LOCALEList TableName="YFS_TRANS_HEADER_LOCALE">
<TransformationHeaderLocale Country="US" Createprogid="XMLMigrator"
    Createts="2018-03-28T12:31:18-04:00" Createuserid="SYSTEM"
    Description="Default Template for Quote Proposal Print"
    Language="en" Lockid="0" Modifyprogid="XMLMigrator"
    Modifyts="2018-03-28T12:31:18-04:00" Modifyuserid="SYSTEM"
    Template="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?> &lt;xsl:stylesheet version=&quot;1.0&quot;  xmlns:fo=&quot;http://www.w3.org/1999/XSL/Format&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;>  &lt;xsl:output indent=&quot;yes&quot; method=&quot;xml&quot; />  &lt;xsl:variable name=&quot;localeCode&quot; select=&quot;/PrintJasper/Order/@LocaleCode&quot; />  &lt;xsl:variable name=&quot;proposalDate&quot; select=&quot;/PrintJasper/Order/@Createts&quot; />  &lt;xsl:variable name=&quot;expirationDate&quot; select=&quot;/PrintJasper/Order/@ExpirationDate&quot; />  &lt;xsl:variable name=&quot;reqDeliveryDate&quot; select=&quot;/PrintJasper/Order/@ReqDeliveryDate&quot; />  &lt;xsl:variable name=&quot;linesubtotal&quot; select=&quot;/PrintJasper/Order/OverallTotals/@LineSubTotal&quot; />  &lt;xsl:variable name=&quot;adjustmentTotal&quot; select=&quot;/PrintJasper/Order/OverallTotals/@GrandDiscount&quot; />  &lt;xsl:variable name=&quot;shipping&quot; select=&quot;/PrintJasper/Order/OverallTotals/@HdrShippingCharges&quot; />  &lt;xsl:variable name=&quot;taxes&quot; select=&quot;/PrintJasper/Order/OverallTotals/@GrandTax&quot; />  &lt;xsl:variable name=&quot;totalAmount&quot; select=&quot;/PrintJasper/Order/OverallTotals/@GrandTotal&quot; />  &lt;xsl:variable name=&quot;xslfontfamily&quot;>   &lt;xsl:text>sans-serif&lt;/xsl:text>  &lt;/xsl:variable>  &lt;xsl:variable name=&quot;pricePrefix&quot; select=&quot;/PrintJasper/Order/PriceInfo/@PrefixSymbol&quot; />  &lt;xsl:variable name=&quot;newline&quot;>   &lt;xsl:text />  &lt;/xsl:variable>  &lt;xsl:template match=&quot;/&quot;>   &lt;fo:root>    &lt;fo:layout-master-set>     &lt;fo:simple-page-master margin-bottom=&quot;2cm&quot; margin-left=&quot;1.5cm&quot; margin-right=&quot;1.5cm&quot;      margin-top=&quot;1cm&quot; master-name=&quot;A4-portrait&quot; page-height=&quot;29.7cm&quot; page-width=&quot;21.0cm&quot;>      &lt;fo:region-body />      &lt;fo:region-after />     &lt;/fo:simple-page-master>    &lt;/fo:layout-master-set>    &lt;fo:page-sequence master-reference=&quot;A4-portrait&quot;>     &lt;!--Page Footer -->     &lt;fo:static-content flow-name=&quot;xsl-region-after&quot; font-size=&quot;10pt&quot;>      &lt;fo:block font-family=&quot;{$xslfontfamily}&quot; width=&quot;17cm&quot;>       &lt;fo:table table-layout=&quot;fixed&quot; width=&quot;17cm&quot;>        &lt;fo:table-column column-width=&quot;65%&quot; />        &lt;fo:table-column column-width=&quot;35%&quot; />        &lt;fo:table-body>         &lt;fo:table-row>          &lt;fo:table-cell padding=&quot;2mm&quot; text-align=&quot;left&quot;>           &lt;fo:block text-align=&quot;left&quot;>            &lt;xsl:text>Â© Copyright IBM Corp. [2010, 2011] All Rights Reserved&lt;/xsl:text>           &lt;/fo:block>          &lt;/fo:table-cell>          &lt;fo:table-cell padding=&quot;2mm&quot; text-align=&quot;right&quot;>           &lt;fo:block linefeed-treatment=&quot;preserve&quot;>            &lt;xsl:text> Page &lt;/xsl:text>            &lt;fo:page-number />            &lt;xsl:text> of &lt;/xsl:text>            &lt;fo:page-number-citation ref-id=&quot;last-page&quot; />           &lt;/fo:block>          &lt;/fo:table-cell>         &lt;/fo:table-row>        &lt;/fo:table-body>       &lt;/fo:table>      &lt;/fo:block>     &lt;/fo:static-content>     &lt;fo:flow flow-name=&quot;xsl-region-body&quot;>      &lt;xsl:apply-templates select=&quot;PrintJasper&quot; />      &lt;fo:block id=&quot;last-page&quot; />     &lt;/fo:flow>    &lt;/fo:page-sequence>   &lt;/fo:root>  &lt;/xsl:template>  &lt;!--Page Structure -->  &lt;xsl:template match=&quot;PrintJasper&quot;>   &lt;fo:table border-width=&quot;0mm&quot; table-layout=&quot;fixed&quot; width=&quot;17cm&quot;>    &lt;fo:table-column column-width=&quot;50%&quot; />    &lt;fo:table-column column-width=&quot;50%&quot; />    &lt;fo:table-body>     &lt;!--1st row -->     &lt;fo:table-row>      &lt;fo:table-cell padding=&quot;2mm&quot;>       &lt;fo:block color=&quot;#8fbc8f&quot; font-family=&quot;{$xslfontfamily}&quot; font-size=&quot;28pt&quot; />      &lt;/fo:table-cell>      &lt;fo:table-cell padding=&quot;2mm&quot;>       &lt;fo:block background-color=&quot;White&quot; font-family=&quot;{$xslfontfamily}&quot; font-size=&quot;10pt&quot; text-align=&quot;right&quot;>        &lt;xsl:if test=&quot;/PrintJasper/Organization/CorporatePersonInfo&quot;>         &lt;fo:table table-layout=&quot;fixed&quot;>          &lt;fo:table-body>           &lt;fo:table-row>            &lt;fo:table-cell width=&quot;8cm&quot;>             &lt;fo:block font-family=&quot;{$xslfontfamily}&quot; text-align=&quot;right&quot;>              &lt;xsl:value-of select=&quot;/PrintJasper/Organization/CorporatePersonInfo/@AddressLine1&quot; />             &lt;/fo:block>            &lt;/fo:table-cell>           &lt;/fo:table-row>           &lt;xsl:if test=&quot;/PrintJasper/Organization/CorporatePersonInfo/@AddressLine2!=''&quot;>            &lt;fo:table-row>             &lt;fo:table-cell width=&quot;8cm&quot;>              &lt;fo:block font-family=&quot;{$xslfontfamily}&quot; text-align=&quot;right&quot;>               &lt;xsl:value-of select=&quot;/PrintJasper/Organization/CorporatePersonInfo/@AddressLine2&quot; />              &lt;/fo:block>             &lt;/fo:table-cell>            &lt;/fo:table-row>           &lt;/xsl:if>           &lt;xsl:if test=&quot;/PrintJasper/Organization/CorporatePersonInfo/@AddressLine3!=''&quot;>            &lt;fo:table-row>             &lt;fo:table-cell width=&quot;8cm&quot;>              &lt;fo:block text-align=&quot;right&quot;>               &lt;xsl:value-of select=&quot;/PrintJasper/Organization/CorporatePersonInfo/@AddressLine3&quot; />              &lt;/fo:block>             &lt;/fo:table-cell>            &lt;/fo:table-row>           &lt;/xsl:if>           &lt;xsl:if test=&quot;/PrintJasper/Organization/CorporatePersonInfo/@AddressLine4!=''&quot;>            &lt;fo:table-row>             &lt;fo:table-cell width=&quot;8cm&quot;>              &lt;fo:block text-align=&quot;right&quot;>               &lt;xsl:value-of select=&quot;/PrintJasper/Organization/CorporatePersonInfo/@AddressLine4&quot; />              &lt;/fo:block>             &lt;/fo:table-cell>            &lt;/fo:table-row>           &lt;/xsl:if>           &lt;xsl:if test=&quot;/PrintJasper/Organization/CorporatePersonInfo/@AddressLine5!=''&quot;>            &lt;fo:table-row>             &lt;fo:table-cell width=&quot;8cm&quot;>              &lt;fo:block text-align=&quot;right&quot;>               &lt;xsl:value-of select=&quot;/PrintJasper/Organization/CorporatePersonInfo/@AddressLine5&quot; />              &lt;/fo:block>             &lt;/fo:table-cell>            &lt;/fo:table-row>           &lt;/xsl:if>           &lt;xsl:if test=&quot;/PrintJasper/Organization/CorporatePersonInfo/@AddressLine6!=''&quot;>            &lt;fo:table-row>             &lt;fo:table-cell width=&quot;8cm&quot;>              &lt;fo:block text-align=&quot;right&quot;>               &lt;xsl:value-of select=&quot;/PrintJasper/Organization/CorporatePersonInfo/@AddressLine6&quot; />              &lt;/fo:block>             &lt;/fo:table-cell>            &lt;/fo:table-row>           &lt;/xsl:if>           &lt;xsl:if            test=&quot;/PrintJasper/Organization/CorporatePersonInfo/@City!='' or /PrintJasper/Organization/CorporatePersonInfo/@State!='' or /PrintJasper/Organization/CorporatePersonInfo/@ShortZipCode!=''&quot;>            &lt;fo:table-row>             &lt;fo:table-cell width=&quot;8cm&quot;>              &lt;fo:block text-align=&quot;right&quot;>               &lt;xsl:value-of                select=&quot;concat(/PrintJasper/Organization/CorporatePersonInfo/@City, ' ', /PrintJasper/Organization/CorporatePersonInfo/@State, ' ', /PrintJasper/Organization/CorporatePersonInfo/@ShortZipCode)&quot; />              &lt;/fo:block>             &lt;/fo:table-cell>            &lt;/fo:table-row>           &lt;/xsl:if>           &lt;xsl:if test=&quot;/PrintJasper/Organization/CorporatePersonInfo/@Country!=''&quot;>            &lt;fo:table-row>             &lt;fo:table-cell width=&quot;8cm&quot;>              &lt;fo:block text-align=&quot;right&quot;>               &lt;xsl:value-of select=&quot;/PrintJasper/Organization/CorporatePersonInfo/@Country&quot; />              &lt;/fo:block>             &lt;/fo:table-cell>            &lt;/fo:table-row>           &lt;/xsl:if>           &lt;xsl:if test=&quot;/PrintJasper/Organization/CorporatePersonInfo/@DayPhone!=''&quot;>            &lt;fo:table-row>             &lt;fo:table-cell width=&quot;8cm&quot;>              &lt;fo:block text-align=&quot;right&quot;>               &lt;xsl:value-of select=&quot;/PrintJasper/Organization/CorporatePersonInfo/@DayPhone&quot; />              &lt;/fo:block>             &lt;/fo:table-cell>            &lt;/fo:table-row>           &lt;/xsl:if>           &lt;xsl:if test=&quot;/PrintJasper/Organization/CorporatePersonInfo/@DayFaxNo!=''&quot;>            &lt;fo:table-row>             &lt;fo:table-cell width=&quot;8cm&quot;>              &lt;fo:block text-align=&quot;right&quot;>               &lt;xsl:value-of select=&quot;/PrintJasper/Organization/CorporatePersonInfo/@DayFaxNo&quot; />              &lt;/fo:block>             &lt;/fo:table-cell>            &lt;/fo:table-row>           &lt;/xsl:if>           &lt;xsl:if test=&quot;/PrintJasper/Organization/@PrimaryUrl!=''&quot;>            &lt;fo:table-row>             &lt;fo:table-cell width=&quot;8cm&quot;>              &lt;fo:block text-align=&quot;right&quot;>               &lt;xsl:variable name=&quot;path&quot; select=&quot;/PrintJasper/Organization/@PrimaryUrl&quot; />               &lt;fo:basic-link color=&quot;blue&quot; external-destination=&quot;url({$path})&quot; text-decoration=&quot;underline&quot;>                 &lt;xsl:value-of select=&quot;/PrintJasper/Organization/@PrimaryUrl&quot; />               &lt;/fo:basic-link>              &lt;/fo:block>             &lt;/fo:table-cell>            &lt;/fo:table-row>           &lt;/xsl:if>           &lt;xsl:if test=&quot;/PrintJasper/Organization/CorporatePersonInfo/@EMailID!=''&quot;>            &lt;fo:table-row>             &lt;fo:table-cell width=&quot;8cm&quot;>              &lt;fo:block text-align=&quot;right&quot;>               &lt;xsl:variable name=&quot;path&quot;                select=&quot;concat('mailto:', /PrintJasper/Organization/CorporatePersonInfo/@EMailID)&quot; />               &lt;fo:basic-link color=&quot;blue&quot; external-destination=&quot;url({$path})&quot; text-decoration=&quot;underline&quot;>                 &lt;xsl:value-of select=&quot;/PrintJasper/Organization/CorporatePersonInfo/@EMailID&quot; />               &lt;/fo:basic-link>              &lt;/fo:block>             &lt;/fo:table-cell>            &lt;/fo:table-row>           &lt;/xsl:if>          &lt;/fo:table-body>         &lt;/fo:table>        &lt;/xsl:if>       &lt;/fo:block>      &lt;/fo:table-cell>     &lt;/fo:table-row>     &lt;fo:table-row background-color=&quot;#8fbc8f&quot; height=&quot;0.26in&quot;>      &lt;fo:table-cell border-width=&quot;0mm&quot; number-columns-spanned=&quot;2&quot; padding=&quot;1mm&quot; padding-top=&quot;1mm&quot;>       &lt;fo:block color=&quot;white&quot; font-family=&quot;{$xslfontfamily}&quot; font-size=&quot;14pt&quot; font-weight=&quot;bold&quot; line-height=&quot;0.26in&quot;>        &lt;xsl:text>Quote&lt;/xsl:text>       &lt;/fo:block>      &lt;/fo:table-cell>     &lt;/fo:table-row>     &lt;!--Opening Comments -->     &lt;xsl:if test=&quot;/PrintJasper/UserInput/@OpeningComments!=&amp;quot;&amp;quot; or /PrintJasper/UserInput/@Salutation!=&amp;quot;&amp;quot; or /PrintJasper/Order/@CustomerLastName!=&amp;quot;&amp;quot; or /PrintJasper/Order/@CustomerFirstName!=&amp;quot;&amp;quot;&quot;>      &lt;fo:table-row>       &lt;fo:table-cell number-columns-spanned=&quot;2&quot; padding=&quot;2mm&quot; width=&quot;8cm&quot;>        &lt;fo:block font-family=&quot;{$xslfontfamily}&quot; font-size=&quot;10pt&quot; text-align=&quot;justify&quot;>         &lt;xsl:apply-templates select=&quot;UserInput/@OpeningComments&quot; />        &lt;/fo:block>       &lt;/fo:table-cell>      &lt;/fo:table-row>     &lt;/xsl:if>     &lt;fo:table-row>      &lt;fo:table-cell border-width=&quot;0mm&quot; number-columns-spanned=&quot;2&quot; padding=&quot;2mm&quot;>       &lt;fo:block font-family=&quot;{$xslfontfamily}&quot; font-size=&quot;10pt&quot; />      &lt;/fo:table-cell>     &lt;/fo:table-row>     &lt;fo:table-row>      &lt;fo:table-cell number-columns-spanned=&quot;2&quot; padding=&quot;1mm&quot;>       &lt;fo:block font-family=&quot;{$xslfontfamily}&quot; font-size=&quot;10pt&quot;>        &lt;xsl:apply-templates select=&quot;Resource/Proposal/Address&quot; />       &lt;/fo:block>      &lt;/fo:table-cell>     &lt;/fo:table-row>     &lt;fo:table-row>      &lt;fo:table-cell border-width=&quot;0mm&quot; number-columns-spanned=&quot;2&quot; padding=&quot;2mm&quot;>       &lt;fo:block font-family=&quot;{$xslfontfamily}&quot; font-size=&quot;10pt&quot; />      &lt;/fo:table-cell>     &lt;/fo:table-row>     &lt;fo:table-row>      &lt;fo:table-cell border-width=&quot;0mm&quot; number-columns-spanned=&quot;2&quot; padding=&quot;1mm&quot; padding-top=&quot;0mm&quot; width=&quot;10cm&quot;>       &lt;fo:block background-color=&quot;White&quot; font-family=&quot;{$xslfontfamily}&quot; font-size=&quot;10pt&quot;>        &lt;xsl:apply-templates select=&quot;Resource/Proposal/ProposalHeader&quot; />       &lt;/fo:block>       &lt;fo:block linefeed-treatment=&quot;preserve&quot;>        &lt;xsl:text />       &lt;/fo:block>      &lt;/fo:table-cell>     &lt;/fo:table-row>     &lt;fo:table-row>      &lt;fo:table-cell border-width=&quot;0mm&quot; number-columns-spanned=&quot;2&quot; padding=&quot;2mm&quot;>       &lt;fo:block font-family=&quot;{$xslfontfamily}&quot; font-size=&quot;10pt&quot; />      &lt;/fo:table-cell>     &lt;/fo:table-row>     &lt;!--Order lines -->     &lt;fo:table-row>      &lt;fo:table-cell number-columns-spanned=&quot;2&quot; padding=&quot;1mm&quot; padding-bottom=&quot;0mm&quot; padding-top=&quot;0mm&quot;>       &lt;fo:block font-family=&quot;{$xslfontfamily}&quot; text-align=&quot;center&quot;>        &lt;xsl:variable name=&quot;defaultOrderLineType&quot; />        &lt;xsl:variable name=&quot;lineCount&quot; select=&quot;count(/PrintJasper/Order/OrderLines/OrderLine)&quot; />        &lt;xsl:variable name=&quot;orderLineCount&quot; select=&quot;count(/PrintJasper/Order/OrderLines/OrderLine[@LineType=''])&quot; />        &lt;xsl:variable name=&quot;recommendedLineCount&quot; select=&quot;count(/PrintJasper/Order/OrderLines/OrderLine[@LineType='Recommended'])&quot; />        &lt;xsl:if test=&quot;Resource/Proposal/OrderLines/@QuoteLines='Y' and $orderLineCount > 0&quot;>         &lt;xsl:call-template name=&quot;orderLinesTemplate&quot;>          &lt;xsl:with-param name=&quot;orderLineType&quot; />         &lt;/xsl:call-template>        &lt;/xsl:if>       &lt;/fo:block>      &lt;/fo:table-cell>     &lt;/fo:table-row>     &lt;fo:table-row>      &lt;fo:table-cell border-width=&quot;0mm&quot; number-columns-spanned=&quot;2&quot; padding=&quot;2mm&quot;>       &lt;fo:block font-family=&quot;{$xslfontfamily}&quot; font-size=&quot;10pt&quot; />      &lt;/fo:table-cell>     &lt;/fo:table-row>     &lt;!--Recommended lines -->     &lt;xsl:variable name=&quot;recommendedLineCount&quot; select=&quot;count(/PrintJasper/Order/OrderLines/OrderLine[@LineType='Recommended'])&quot; />     &lt;xsl:if test=&quot;/PrintJasper/Resource/Proposal/OrderLines/@RecommendedLines='Y' and ($recommendedLineCount > 0)&quot;>      &lt;fo:table-row background-color=&quot;#8fbc8f&quot;>       &lt;fo:table-cell number-columns-spanned=&quot;2&quot; padding-bottom=&quot;0mm&quot; padding-left=&quot;5mm&quot; padding-top=&quot;0mm&quot;>        &lt;fo:block text-align=&quot;center&quot;>         &lt;fo:block color=&quot;black&quot; font-family=&quot;{$xslfontfamily}&quot; text-align=&quot;left&quot;>          &lt;xsl:text>Recommended&lt;/xsl:text>         &lt;/fo:block>        &lt;/fo:block>       &lt;/fo:table-cell>      &lt;/fo:table-row>      &lt;fo:table-row>       &lt;fo:table-cell number-columns-spanned=&quot;2&quot; padding=&quot;1mm&quot; padding-bottom=&quot;0mm&quot; padding-top=&quot;0mm&quot;>        &lt;fo:block font-family=&quot;{$xslfontfamily}&quot; text-align=&quot;center&quot;>         &lt;xsl:call-template name=&quot;orderLinesTemplate&quot;>          &lt;xsl:with-param name=&quot;orderLineType&quot;>Recommended&lt;/xsl:with-param>         &lt;/xsl:call-template>        &lt;/fo:block>       &lt;/fo:table-cell>      &lt;/fo:table-row>     &lt;/xsl:if>     &lt;fo:table-row>      &lt;fo:table-cell border-width=&quot;0mm&quot; number-columns-spanned=&quot;2&quot; padding=&quot;2mm&quot;>       &lt;fo:block font-family=&quot;{$xslfontfamily}&quot; font-size=&quot;10pt&quot; />      &lt;/fo:table-cell>     &lt;/fo:table-row>     &lt;!--3rd Row -->     &lt;fo:table-row>      &lt;fo:table-cell border-width=&quot;0mm&quot; empty-cells=&quot;hide&quot; padding=&quot;1mm&quot;>       &lt;fo:block />      &lt;/fo:table-cell>      &lt;fo:table-cell border-width=&quot;0mm&quot; padding=&quot;1mm&quot;>       &lt;fo:block background-color=&quot;White&quot; font-family=&quot;{$xslfontfamily}&quot; font-size=&quot;10pt&quot; text-align=&quot;left&quot;>        &lt;xsl:apply-templates select=&quot;Resource/Proposal/PricingInformation&quot; />       &lt;/fo:block>      &lt;/fo:table-cell>     &lt;/fo:table-row>     &lt;!--Closing Comments -->     &lt;xsl:if test=&quot;/PrintJasper/UserInput/@ClosingComments!=&amp;quot;&amp;quot;&quot;>      &lt;fo:table-row>       &lt;fo:table-cell number-columns-spanned=&quot;2&quot;>        &lt;fo:block font-family=&quot;{$xslfontfamily}&quot; font-size=&quot;10pt&quot; text-align=&quot;justify&quot;>         &lt;xsl:apply-templates select=&quot;UserInput/@ClosingComments&quot; />        &lt;/fo:block>       &lt;/fo:table-cell>      &lt;/fo:table-row>     &lt;/xsl:if>     &lt;!--Complimentary Comments -->     &lt;xsl:if test=&quot;/PrintJasper/UserInput/@ComplimentaryClosing!=&amp;quot;&amp;quot;&quot;>      &lt;fo:table-row>       &lt;fo:table-cell number-columns-spanned=&quot;2&quot;>        &lt;fo:block font-family=&quot;{$xslfontfamily}&quot; font-size=&quot;10pt&quot; text-align=&quot;justify&quot;>         &lt;xsl:apply-templates select=&quot;UserInput/@ComplimentaryClosing&quot; />        &lt;/fo:block>       &lt;/fo:table-cell>      &lt;/fo:table-row>     &lt;/xsl:if>    &lt;/fo:table-body>   &lt;/fo:table>  &lt;/xsl:template>  &lt;!--END -->  &lt;xsl:template match=&quot;Resource/Proposal/ProposalHeader&quot;>   &lt;fo:block>    &lt;!--starting inside table -->    &lt;fo:table border-width=&quot;0mm&quot; table-layout=&quot;fixed&quot;>     &lt;fo:table-column column-width=&quot;1.25in&quot; />     &lt;xsl:if test=&quot;/PrintJasper/Resource/Proposal/ProposalHeader/@ProposalTitle = 'Y'&quot;>      &lt;fo:table-column column-width=&quot;1.25in&quot; />     &lt;/xsl:if>     &lt;xsl:if test=&quot;/PrintJasper/Resource/Proposal/ProposalHeader/@ProposalDate = 'Y'&quot;>      &lt;fo:table-column column-width=&quot;1.25in&quot; />     &lt;/xsl:if>     &lt;xsl:if test=&quot;/PrintJasper/Resource/Proposal/Terms/@DeliveryDate = 'Y'&quot;>      &lt;fo:table-column column-width=&quot;1.25in&quot; />     &lt;/xsl:if>     &lt;xsl:if test=&quot;/PrintJasper/Resource/Proposal/ProposalHeader/@ExpirationDate = 'Y'&quot;>      &lt;fo:table-column column-width=&quot;1.25in&quot; />     &lt;/xsl:if>     &lt;xsl:if test=&quot;/PrintJasper/Resource/Proposal/ProposalHeader/@Status = 'Y'&quot;>      &lt;fo:table-column column-width=&quot;1.25in&quot; />     &lt;/xsl:if>     &lt;!--Table Header -->     &lt;fo:table-header font-family=&quot;{$xslfontfamily}&quot; font-size=&quot;9pt&quot; text-align=&quot;center&quot;>      &lt;fo:table-row background-color=&quot;#CCCCCC&quot; border-style=&quot;solid&quot; border-width=&quot;.5pt&quot;>       &lt;fo:table-cell border-style=&quot;solid&quot; border-width=&quot;.25pt&quot; padding=&quot;1mm&quot; starts-row=&quot;true&quot;>        &lt;fo:block font-weight=&quot;bold&quot; text-align=&quot;left&quot;>         &lt;xsl:variable name=&quot;variable&quot;>          Customer ID         &lt;/xsl:variable>         &lt;xsl:call-template name=&quot;split_value&quot;>          &lt;xsl:with-param name=&quot;value&quot; select=&quot;$variable&quot; />          &lt;xsl:with-param name=&quot;max_length&quot; select=&quot;number(6)&quot; />         &lt;/xsl:call-template>        &lt;/fo:block>       &lt;/fo:table-cell>       &lt;xsl:if test=&quot;/PrintJasper/Resource/Proposal/ProposalHeader/@ProposalTitle = 'Y'&quot;>        &lt;fo:table-cell border-style=&quot;solid&quot; border-width=&quot;.25pt&quot; padding=&quot;1mm&quot;>         &lt;fo:block font-family=&quot;{$xslfontfamily}&quot; font-size=&quot;10pt&quot; font-weight=&quot;bold&quot; text-align=&quot;left&quot;>          &lt;xsl:variable name=&quot;variable&quot;>           Proposal Title          &lt;/xsl:variable>          &lt;xsl:call-template name=&quot;split_value&quot;>           &lt;xsl:with-param name=&quot;value&quot; select=&quot;$variable&quot; />           &lt;xsl:with-param name=&quot;max_length&quot; select=&quot;number(6)&quot; />          &lt;/xsl:call-template>         &lt;/fo:block>        &lt;/fo:table-cell>       &lt;/xsl:if>       &lt;xsl:if test=&quot;/PrintJasper/Resource/Proposal/ProposalHeader/@ProposalDate = 'Y'&quot;>        &lt;fo:table-cell border-style=&quot;solid&quot; border-width=&quot;.25pt&quot; padding=&quot;1mm&quot;>         &lt;fo:block font-size=&quot;10pt&quot; font-weight=&quot;bold&quot; text-align=&quot;left&quot;>          &lt;xsl:variable name=&quot;variable&quot;>           Proposal Date          &lt;/xsl:variable>          &lt;xsl:call-template name=&quot;split_value&quot;>           &lt;xsl:with-param name=&quot;value&quot; select=&quot;$variable&quot; />           &lt;xsl:with-param name=&quot;max_length&quot; select=&quot;number(6)&quot; />          &lt;/xsl:call-template>         &lt;/fo:block>        &lt;/fo:table-cell>       &lt;/xsl:if>       &lt;xsl:if test=&quot;/PrintJasper/Resource/Proposal/Terms/@DeliveryDate = 'Y'&quot;>        &lt;fo:table-cell border-style=&quot;solid&quot; border-width=&quot;.25pt&quot; padding=&quot;1mm&quot;>         &lt;fo:block font-size=&quot;10pt&quot; font-weight=&quot;bold&quot; text-align=&quot;left&quot;>          &lt;xsl:variable name=&quot;variable&quot;>           Delivery Date          &lt;/xsl:variable>          &lt;xsl:call-template name=&quot;split_value&quot;>           &lt;xsl:with-param name=&quot;value&quot; select=&quot;$variable&quot; />           &lt;xsl:with-param name=&quot;max_length&quot; select=&quot;number(6)&quot; />          &lt;/xsl:call-template>         &lt;/fo:block>        &lt;/fo:table-cell>       &lt;/xsl:if>       &lt;xsl:if test=&quot;/PrintJasper/Resource/Proposal/ProposalHeader/@ExpirationDate = 'Y'&quot;>        &lt;fo:table-cell border-style=&quot;solid&quot; border-width=&quot;.25pt&quot; padding=&quot;1mm&quot;>         &lt;fo:block font-size=&quot;10pt&quot; font-weight=&quot;bold&quot; text-align=&quot;left&quot;>          &lt;xsl:variable name=&quot;variable&quot;>           Expiration Date          &lt;/xsl:variable>          &lt;xsl:call-template name=&quot;split_value&quot;>           &lt;xsl:with-param name=&quot;value&quot; select=&quot;$variable&quot; />           &lt;xsl:with-param name=&quot;max_length&quot; select=&quot;number(6)&quot; />          &lt;/xsl:call-template>         &lt;/fo:block>        &lt;/fo:table-cell>       &lt;/xsl:if>       &lt;xsl:if test=&quot;/PrintJasper/Resource/Proposal/ProposalHeader/@Status = 'Y'&quot;>        &lt;fo:table-cell border-style=&quot;solid&quot; border-width=&quot;.25pt&quot; padding=&quot;1mm&quot;>         &lt;fo:block font-size=&quot;10pt&quot; font-weight=&quot;bold&quot; text-align=&quot;left&quot;>          &lt;xsl:variable name=&quot;variable&quot;>           Status          &lt;/xsl:variable>          &lt;xsl:call-template name=&quot;split_value&quot;>           &lt;xsl:with-param name=&quot;value&quot; select=&quot;$variable&quot; />           &lt;xsl:with-param name=&quot;max_length&quot; select=&quot;number(6)&quot; />          &lt;/xsl:call-template>         &lt;/fo:block>        &lt;/fo:table-cell>       &lt;/xsl:if>      &lt;/fo:table-row>     &lt;/fo:table-header>     &lt;fo:table-body>      &lt;fo:table-row border-style=&quot;solid&quot; border-width=&quot;.5pt&quot;>       &lt;fo:table-cell border-style=&quot;solid&quot; border-width=&quot;.25pt&quot; padding=&quot;1mm&quot;>        &lt;fo:block text-align=&quot;left&quot;>         &lt;xsl:call-template name=&quot;split_value&quot;>          &lt;xsl:with-param name=&quot;value&quot; select=&quot;/PrintJasper/Order/@BillToID&quot; />          &lt;xsl:with-param name=&quot;max_length&quot; select=&quot;number(4)&quot; />         &lt;/xsl:call-template>        &lt;/fo:block>       &lt;/fo:table-cell>       &lt;xsl:if test=&quot;/PrintJasper/Resource/Proposal/ProposalHeader/@ProposalTitle = 'Y'&quot;>        &lt;fo:table-cell border-style=&quot;solid&quot; border-width=&quot;.25pt&quot; padding=&quot;1mm&quot;>         &lt;fo:block font-family=&quot;{$xslfontfamily}&quot; text-align=&quot;left&quot;>          &lt;xsl:value-of select=&quot;/PrintJasper/UserInput/@ProposalTitle&quot; />         &lt;/fo:block>        &lt;/fo:table-cell>       &lt;/xsl:if>       &lt;xsl:if test=&quot;/PrintJasper/Resource/Proposal/ProposalHeader/@ProposalDate = 'Y'&quot;>        &lt;fo:table-cell border-style=&quot;solid&quot; border-width=&quot;.25pt&quot; padding=&quot;1mm&quot; text-align=&quot;left&quot;>         &lt;fo:block>          &lt;xsl:if test=&quot;$proposalDate != ''&quot;>           &lt;xsl:value-of select=&quot;formatDate($localeCode, $proposalDate)&quot; />          &lt;/xsl:if>         &lt;/fo:block>        &lt;/fo:table-cell>       &lt;/xsl:if>       &lt;xsl:if test=&quot;/PrintJasper/Resource/Proposal/Terms/@DeliveryDate = 'Y'&quot;>        &lt;fo:table-cell border-style=&quot;solid&quot; border-width=&quot;.25pt&quot; padding=&quot;1mm&quot;>         &lt;fo:block text-align=&quot;left&quot;>          &lt;xsl:if test=&quot;$reqDeliveryDate != ''&quot;>           &lt;xsl:call-template name=&quot;split_value&quot;>            &lt;xsl:with-param name=&quot;value&quot; select=&quot;formatDate($localeCode, $reqDeliveryDate)&quot; />            &lt;xsl:with-param name=&quot;max_length&quot; select=&quot;number(4)&quot; />           &lt;/xsl:call-template>          &lt;/xsl:if>         &lt;/fo:block>        &lt;/fo:table-cell>       &lt;/xsl:if>       &lt;xsl:if test=&quot;/PrintJasper/Resource/Proposal/ProposalHeader/@ExpirationDate = 'Y'&quot;>        &lt;fo:table-cell border-style=&quot;solid&quot; border-width=&quot;.25pt&quot; padding=&quot;1mm&quot;>         &lt;fo:block text-align=&quot;left&quot;>          &lt;xsl:if test=&quot;$expirationDate != ''&quot;>           &lt;xsl:call-template name=&quot;split_value&quot;>            &lt;xsl:with-param name=&quot;value&quot; select=&quot;formatDate($localeCode, $expirationDate)&quot; />            &lt;xsl:with-param name=&quot;max_length&quot; select=&quot;number(4)&quot; />           &lt;/xsl:call-template>          &lt;/xsl:if>         &lt;/fo:block>        &lt;/fo:table-cell>       &lt;/xsl:if>       &lt;xsl:if test=&quot;/PrintJasper/Resource/Proposal/ProposalHeader/@Status = 'Y'&quot;>        &lt;fo:table-cell border-style=&quot;solid&quot; border-width=&quot;.25pt&quot; padding=&quot;1mm&quot;>         &lt;fo:block text-align=&quot;left&quot;>          &lt;xsl:call-template name=&quot;split_value&quot;>           &lt;xsl:with-param name=&quot;value&quot; select=&quot;/PrintJasper/Order/@Status&quot; />           &lt;xsl:with-param name=&quot;max_length&quot; select=&quot;number(4)&quot; />          &lt;/xsl:call-template>         &lt;/fo:block>        &lt;/fo:table-cell>       &lt;/xsl:if>      &lt;/fo:table-row>     &lt;/fo:table-body>    &lt;/fo:table>   &lt;/fo:block>   &lt;fo:block linefeed-treatment=&quot;preserve&quot;>    &lt;xsl:text />   &lt;/fo:block>   &lt;fo:block>    &lt;!--starting second table -->    &lt;fo:table border-width=&quot;0mm&quot; table-layout=&quot;fixed&quot;>     &lt;fo:table-column column-width=&quot;1.25in&quot; />     &lt;xsl:if test=&quot;/PrintJasper/Resource/Proposal/Terms/@ShippngTerms = 'Y'&quot;>      &lt;fo:table-column column-width=&quot;1.25in&quot; />     &lt;/xsl:if>     &lt;xsl:if test=&quot;/PrintJasper/Resource/Proposal/Terms/@LevelOfService = 'Y'&quot;>      &lt;fo:table-column column-width=&quot;1.25in&quot; />     &lt;/xsl:if>     &lt;xsl:if test=&quot;/PrintJasper/Resource/Proposal/Terms/@InstructionText = 'Y'&quot;>      &lt;fo:table-column column-width=&quot;2.25in&quot; />     &lt;/xsl:if>     &lt;xsl:if test=&quot;/PrintJasper/Resource/Proposal/Terms/@PaymentTerms = 'Y'&quot;>      &lt;fo:table-column column-width=&quot;1.5in&quot; />     &lt;/xsl:if>     &lt;!--Table Header -->     &lt;fo:table-header font-family=&quot;{$xslfontfamily}&quot; font-size=&quot;9pt&quot; text-align=&quot;center&quot;>      &lt;fo:table-row background-color=&quot;#CCCCCC&quot; border-style=&quot;solid&quot; border-width=&quot;.5pt&quot;>       &lt;fo:table-cell border-style=&quot;solid&quot; border-width=&quot;.25pt&quot; padding=&quot;1mm&quot; starts-row=&quot;true&quot;>        &lt;fo:block font-weight=&quot;bold&quot; text-align=&quot;left&quot;>         &lt;xsl:variable name=&quot;variable&quot;>          Sales Person         &lt;/xsl:variable>         &lt;xsl:call-template name=&quot;split_value&quot;>          &lt;xsl:with-param name=&quot;value&quot; select=&quot;$variable&quot; />          &lt;xsl:with-param name=&quot;max_length&quot; select=&quot;number(6)&quot; />         &lt;/xsl:call-template>        &lt;/fo:block>       &lt;/fo:table-cell>       &lt;xsl:if test=&quot;/PrintJasper/Resource/Proposal/Terms/@ShippngTerms = 'Y'&quot;>        &lt;fo:table-cell border-style=&quot;solid&quot; border-width=&quot;.25pt&quot; padding=&quot;1mm&quot;>         &lt;fo:block font-size=&quot;10pt&quot; font-weight=&quot;bold&quot; text-align=&quot;left&quot;>          &lt;xsl:variable name=&quot;variable&quot;>           Carrier          &lt;/xsl:variable>          &lt;xsl:call-template name=&quot;split_value&quot;>           &lt;xsl:with-param name=&quot;value&quot; select=&quot;$variable&quot; />           &lt;xsl:with-param name=&quot;max_length&quot; select=&quot;number(6)&quot; />          &lt;/xsl:call-template>         &lt;/fo:block>        &lt;/fo:table-cell>       &lt;/xsl:if>       &lt;xsl:if test=&quot;/PrintJasper/Resource/Proposal/Terms/@LevelOfService = 'Y'&quot;>        &lt;fo:table-cell border-style=&quot;solid&quot; border-width=&quot;.25pt&quot; padding=&quot;1mm&quot;>         &lt;fo:block font-size=&quot;10pt&quot; font-weight=&quot;bold&quot; text-align=&quot;left&quot;>          &lt;xsl:variable name=&quot;variable&quot;>           Level of Service          &lt;/xsl:variable>          &lt;xsl:call-template name=&quot;split_value&quot;>           &lt;xsl:with-param name=&quot;value&quot; select=&quot;$variable&quot; />           &lt;xsl:with-param name=&quot;max_length&quot; select=&quot;number(6)&quot; />          &lt;/xsl:call-template>         &lt;/fo:block>        &lt;/fo:table-cell>       &lt;/xsl:if>       &lt;xsl:if test=&quot;/PrintJasper/Resource/Proposal/Terms/@InstructionText = 'Y'&quot;>        &lt;fo:table-cell border-style=&quot;solid&quot; border-width=&quot;.25pt&quot; padding=&quot;1mm&quot;>         &lt;fo:block font-size=&quot;10pt&quot; font-weight=&quot;bold&quot; text-align=&quot;left&quot;>          &lt;xsl:variable name=&quot;variable&quot;>           Shipping Instructions          &lt;/xsl:variable>          &lt;xsl:call-template name=&quot;split_value&quot;>           &lt;xsl:with-param name=&quot;value&quot; select=&quot;$variable&quot; />           &lt;xsl:with-param name=&quot;max_length&quot; select=&quot;number(6)&quot; />          &lt;/xsl:call-template>         &lt;/fo:block>        &lt;/fo:table-cell>       &lt;/xsl:if>       &lt;xsl:if test=&quot;/PrintJasper/Resource/Proposal/Terms/@PaymentTerms = 'Y'&quot;>        &lt;fo:table-cell border-style=&quot;solid&quot; border-width=&quot;.25pt&quot; padding=&quot;1mm&quot;>         &lt;fo:block font-size=&quot;10pt&quot; font-weight=&quot;bold&quot; text-align=&quot;left&quot;>          &lt;xsl:variable name=&quot;variable&quot;>           Payment Terms          &lt;/xsl:variable>          &lt;xsl:call-template name=&quot;split_value&quot;>           &lt;xsl:with-param name=&quot;value&quot; select=&quot;$variable&quot; />           &lt;xsl:with-param name=&quot;max_length&quot; select=&quot;number(6)&quot; />          &lt;/xsl:call-template>         &lt;/fo:block>        &lt;/fo:table-cell>       &lt;/xsl:if>      &lt;/fo:table-row>     &lt;/fo:table-header>     &lt;fo:table-body>      &lt;fo:table-row border-style=&quot;solid&quot; border-width=&quot;.5pt&quot;>       &lt;fo:table-cell border-style=&quot;solid&quot; border-width=&quot;.25pt&quot; padding=&quot;1mm&quot;>        &lt;fo:block text-align=&quot;left&quot;>         &lt;xsl:call-template name=&quot;split_value&quot;>          &lt;xsl:with-param name=&quot;value&quot; select=&quot;/PrintJasper/Order/@EnteredBy&quot; />          &lt;xsl:with-param name=&quot;max_length&quot; select=&quot;number(4)&quot; />         &lt;/xsl:call-template>        &lt;/fo:block>       &lt;/fo:table-cell>       &lt;xsl:if test=&quot;/PrintJasper/Resource/Proposal/Terms/@ShippngTerms = 'Y'&quot;>        &lt;fo:table-cell border-style=&quot;solid&quot; border-width=&quot;.25pt&quot; padding=&quot;1mm&quot; text-align=&quot;left&quot;>         &lt;fo:block>          &lt;xsl:call-template name=&quot;split_value&quot;>           &lt;xsl:with-param name=&quot;value&quot; select=&quot;/PrintJasper/Order/@SCAC&quot; />           &lt;xsl:with-param name=&quot;max_length&quot; select=&quot;number(4)&quot; />          &lt;/xsl:call-template>         &lt;/fo:block>        &lt;/fo:table-cell>       &lt;/xsl:if>       &lt;xsl:if test=&quot;/PrintJasper/Resource/Proposal/Terms/@LevelOfService = 'Y'&quot;>        &lt;fo:table-cell border-style=&quot;solid&quot; border-width=&quot;.25pt&quot; padding=&quot;1mm&quot;>         &lt;fo:block text-align=&quot;left&quot;>          &lt;xsl:call-template name=&quot;split_value&quot;>           &lt;xsl:with-param name=&quot;value&quot; select=&quot;/PrintJasper/Order/@LevelOfService&quot; />           &lt;xsl:with-param name=&quot;max_length&quot; select=&quot;number(4)&quot; />          &lt;/xsl:call-template>         &lt;/fo:block>        &lt;/fo:table-cell>       &lt;/xsl:if>       &lt;xsl:if test=&quot;/PrintJasper/Resource/Proposal/Terms/@InstructionText = 'Y'&quot;>        &lt;fo:table-cell border-style=&quot;solid&quot; border-width=&quot;.25pt&quot; padding=&quot;1mm&quot;>         &lt;fo:block text-align=&quot;left&quot;>          &lt;xsl:call-template name=&quot;split_value&quot;>           &lt;xsl:with-param name=&quot;value&quot; select=&quot;/PrintJasper/Order/Instructions/Instruction/@InstructionText&quot; />           &lt;xsl:with-param name=&quot;max_length&quot; select=&quot;number(4)&quot; />          &lt;/xsl:call-template>         &lt;/fo:block>        &lt;/fo:table-cell>       &lt;/xsl:if>       &lt;xsl:if test=&quot;/PrintJasper/Resource/Proposal/Terms/@PaymentTerms = 'Y'&quot;>        &lt;fo:table-cell border-style=&quot;solid&quot; border-width=&quot;.25pt&quot; padding=&quot;1mm&quot;>         &lt;fo:block text-align=&quot;left&quot;>          &lt;xsl:call-template name=&quot;split_value&quot;>           &lt;xsl:with-param name=&quot;value&quot; select=&quot;/PrintJasper/Order/@TermsCode&quot; />           &lt;xsl:with-param name=&quot;max_length&quot; select=&quot;number(4)&quot; />          &lt;/xsl:call-template>         &lt;/fo:block>        &lt;/fo:table-cell>       &lt;/xsl:if>      &lt;/fo:table-row>     &lt;/fo:table-body>    &lt;/fo:table>    &lt;!--Ending inside table -->   &lt;/fo:block>  &lt;/xsl:template>  &lt;!--Address -->  &lt;xsl:template match=&quot;Resource/Proposal/Address&quot;>   &lt;!--starting inside table -->   &lt;fo:table border-color=&quot;black&quot; border-width=&quot;0mm&quot; font-family=&quot;{$xslfontfamily}&quot; table-layout=&quot;fixed&quot; width=&quot;100%&quot;>    &lt;fo:table-column column-width=&quot;35%&quot; />    &lt;fo:table-column column-width=&quot;30%&quot; />    &lt;fo:table-column column-width=&quot;35%&quot; />    &lt;fo:table-body>     &lt;fo:table-row>      &lt;xsl:if test=&quot;/PrintJasper/Resource/Proposal/Address/@BillTo = &amp;quot;Y&amp;quot;&quot;>       &lt;fo:table-cell background-color=&quot;#CCCCCC&quot; padding=&quot;1mm&quot; starts-row=&quot;true&quot;>        &lt;fo:block font-weight=&quot;bold&quot;>         &lt;fo:inline vertical-align=&quot;bottom&quot;>          &lt;xsl:text>Bill To&lt;/xsl:text>         &lt;/fo:inline>        &lt;/fo:block>       &lt;/fo:table-cell>      &lt;/xsl:if>      &lt;fo:table-cell>       &lt;fo:block />      &lt;/fo:table-cell>      &lt;xsl:if test=&quot;/PrintJasper/Resource/Proposal/Address/@ShipTo = &amp;quot;Y&amp;quot;&quot;>       &lt;fo:table-cell background-color=&quot;#CCCCCC&quot; ends-row=&quot;true&quot; padding=&quot;1mm&quot;>        &lt;fo:block font-weight=&quot;bold&quot;>         &lt;xsl:text>Ship To&lt;/xsl:text>        &lt;/fo:block>       &lt;/fo:table-cell>      &lt;/xsl:if>     &lt;/fo:table-row>     &lt;fo:table-row>      &lt;xsl:if test=&quot;/PrintJasper/Resource/Proposal/Address/@BillTo = &amp;quot;Y&amp;quot;&quot;>       &lt;fo:table-cell padding=&quot;1mm&quot;>        &lt;fo:block text-align=&quot;justify&quot;>         &lt;xsl:call-template name=&quot;formatAddress&quot;>          &lt;xsl:with-param name=&quot;addressElement&quot; select=&quot;/PrintJasper/Order/PersonInfoBillTo&quot; />         &lt;/xsl:call-template>        &lt;/fo:block>       &lt;/fo:table-cell>      &lt;/xsl:if>      &lt;fo:table-cell empty-cells=&quot;hide&quot;>       &lt;fo:block />      &lt;/fo:table-cell>      &lt;xsl:if test=&quot;/PrintJasper/Resource/Proposal/Address/@ShipTo = &amp;quot;Y&amp;quot;&quot;>       &lt;fo:table-cell padding=&quot;1mm&quot;>        &lt;fo:block text-align=&quot;justify&quot;>         &lt;xsl:call-template name=&quot;formatAddress&quot;>          &lt;xsl:with-param name=&quot;addressElement&quot; select=&quot;/PrintJasper/Order/PersonInfoShipTo&quot; />         &lt;/xsl:call-template>        &lt;/fo:block>       &lt;/fo:table-cell>      &lt;/xsl:if>     &lt;/fo:table-row>    &lt;/fo:table-body>   &lt;/fo:table>   &lt;!--Ending inside table -->  &lt;/xsl:template>  &lt;xsl:template name=&quot;formatAddress&quot;>   &lt;xsl:param name=&quot;addressElement&quot; />   &lt;fo:list-block>    &lt;fo:list-item>     &lt;fo:list-item-label>      &lt;fo:block />     &lt;/fo:list-item-label>     &lt;fo:list-item-body>      &lt;fo:block font-family=&quot;{$xslfontfamily}&quot; font-weight=&quot;bold&quot;>       &lt;xsl:value-of select=&quot;$addressElement/@Company&quot; />      &lt;/fo:block>     &lt;/fo:list-item-body>    &lt;/fo:list-item>    &lt;fo:list-item>     &lt;fo:list-item-label>      &lt;fo:block />     &lt;/fo:list-item-label>     &lt;fo:list-item-body>      &lt;fo:block font-family=&quot;{$xslfontfamily}&quot;>       &lt;xsl:value-of select=&quot;concat($addressElement/@FirstName, ' ', $addressElement/@LastName)&quot; />      &lt;/fo:block>     &lt;/fo:list-item-body>    &lt;/fo:list-item>    &lt;fo:list-item>     &lt;fo:list-item-label>      &lt;fo:block />     &lt;/fo:list-item-label>     &lt;fo:list-item-body>      &lt;fo:block font-family=&quot;{$xslfontfamily}&quot;>       &lt;xsl:value-of select=&quot;$addressElement/@AddressLine1&quot; />      &lt;/fo:block>     &lt;/fo:list-item-body>    &lt;/fo:list-item>    &lt;fo:list-item>     &lt;fo:list-item-label>      &lt;fo:block />     &lt;/fo:list-item-label>     &lt;fo:list-item-body>      &lt;fo:block font-family=&quot;{$xslfontfamily}&quot;>       &lt;xsl:value-of select=&quot;$addressElement/@AddressLine2&quot; />      &lt;/fo:block>     &lt;/fo:list-item-body>    &lt;/fo:list-item>    &lt;fo:list-item>     &lt;fo:list-item-label>      &lt;fo:block />     &lt;/fo:list-item-label>     &lt;fo:list-item-body>      &lt;fo:block>       &lt;xsl:value-of select=&quot;concat($addressElement/@City, ' ',$addressElement/@State , ' ', $addressElement/@ZipCode)&quot; />      &lt;/fo:block>     &lt;/fo:list-item-body>    &lt;/fo:list-item>    &lt;fo:list-item>     &lt;fo:list-item-label>      &lt;fo:block />     &lt;/fo:list-item-label>     &lt;fo:list-item-body>      &lt;fo:block>       &lt;xsl:value-of select=&quot;$addressElement/@Country&quot; />      &lt;/fo:block>     &lt;/fo:list-item-body>    &lt;/fo:list-item>    &lt;fo:list-item>     &lt;fo:list-item-label>      &lt;fo:block />     &lt;/fo:list-item-label>     &lt;fo:list-item-body>      &lt;fo:block>       &lt;xsl:value-of select=&quot;$addressElement/@DayPhone&quot; />      &lt;/fo:block>     &lt;/fo:list-item-body>    &lt;/fo:list-item>    &lt;fo:list-item>     &lt;fo:list-item-label>      &lt;fo:block />     &lt;/fo:list-item-label>     &lt;fo:list-item-body>      &lt;fo:block>       &lt;xsl:value-of select=&quot;$addressElement/@EMailID&quot; />      &lt;/fo:block>     &lt;/fo:list-item-body>    &lt;/fo:list-item>   &lt;/fo:list-block>  &lt;/xsl:template>  &lt;!--Opening Comments Template -->  &lt;xsl:template match=&quot;UserInput/@OpeningComments&quot;>   &lt;!--starting inside table -->   &lt;fo:table table-layout=&quot;fixed&quot; width=&quot;100%&quot;>    &lt;fo:table-column column-width=&quot;100%&quot; />    &lt;fo:table-body>     &lt;fo:table-row>      &lt;fo:table-cell>       &lt;fo:block linefeed-treatment=&quot;preserve&quot;>        &lt;xsl:value-of select=&quot;/PrintJasper/UserInput/@Salutation&quot; />        &lt;fo:inline font-weight=&quot;bold&quot;>         &lt;xsl:value-of          select=&quot;concat(' ', /PrintJasper/Order/PersonInfoBillTo/@Title, ' ', /PrintJasper/Order/@CustomerFirstName,' ' ,/PrintJasper/Order/@CustomerLastName)&quot; />        &lt;/fo:inline>       &lt;/fo:block>      &lt;/fo:table-cell>     &lt;/fo:table-row>     &lt;xsl:if test=&quot;/PrintJasper/UserInput/@OpeningComments != &amp;quot;&amp;quot;&quot;>      &lt;fo:table-row>       &lt;fo:table-cell>        &lt;fo:block linefeed-treatment=&quot;preserve&quot;>         &lt;xsl:value-of select=&quot;/PrintJasper/UserInput/@OpeningComments&quot; />        &lt;/fo:block>       &lt;/fo:table-cell>      &lt;/fo:table-row>     &lt;/xsl:if>    &lt;/fo:table-body>   &lt;/fo:table>   &lt;!--Ending inside table -->  &lt;/xsl:template>  &lt;!--OrderLines -->  &lt;xsl:template name=&quot;orderLinesTemplate&quot;>   &lt;xsl:param name=&quot;orderLineType&quot; select=&quot;''&quot; />   &lt;fo:table border-width=&quot;0mm&quot; table-layout=&quot;fixed&quot;>    &lt;fo:table-column column-width=&quot;.5in&quot; />    &lt;xsl:choose>     &lt;xsl:when test=&quot;/PrintJasper/Resource/Proposal/PricingInformation/@Additional='Y'&quot;>      &lt;fo:table-column column-width=&quot;3.0in&quot; />     &lt;/xsl:when>     &lt;xsl:otherwise>      &lt;fo:table-column column-width=&quot;3.85in&quot; />     &lt;/xsl:otherwise>    &lt;/xsl:choose>    &lt;fo:table-column column-width=&quot;0.65in&quot; />    &lt;fo:table-column column-width=&quot;0.65in&quot; />    &lt;xsl:if test=&quot;/PrintJasper/Resource/Proposal/PricingInformation/@Additional='Y'&quot;>     &lt;fo:table-column column-width=&quot;0.85in&quot; />    &lt;/xsl:if>    &lt;fo:table-column column-width=&quot;0.85in&quot; />    &lt;fo:table-column column-width=&quot;0.85in&quot; />    &lt;!--Table Header -->    &lt;fo:table-header background-color=&quot;White&quot; font-family=&quot;{$xslfontfamily}&quot; font-size=&quot;9pt&quot; text-align=&quot;center&quot;>     &lt;fo:table-row background-color=&quot;#CCCCCC&quot; border-style=&quot;solid&quot; border-width=&quot;.5pt&quot;>      &lt;fo:table-cell padding=&quot;1mm&quot;>       &lt;fo:block font-weight=&quot;bold&quot; text-align=&quot;center&quot; />      &lt;/fo:table-cell>      &lt;fo:table-cell padding=&quot;1mm&quot;>       &lt;fo:block font-size=&quot;10pt&quot; font-weight=&quot;bold&quot; hyphenate=&quot;true&quot; text-align=&quot;left&quot;>        &lt;xsl:variable name=&quot;variable&quot;>         Item Description        &lt;/xsl:variable>        &lt;xsl:call-template name=&quot;split_value&quot;>         &lt;xsl:with-param name=&quot;value&quot; select=&quot;$variable&quot; />         &lt;xsl:with-param name=&quot;max_length&quot; select=&quot;number(6)&quot; />        &lt;/xsl:call-template>       &lt;/fo:block>      &lt;/fo:table-cell>      &lt;fo:table-cell padding=&quot;1mm&quot;>       &lt;fo:block font-size=&quot;10pt&quot; font-weight=&quot;bold&quot; hyphenate=&quot;true&quot; hyphenation-character=&quot;-&quot;        hyphenation-keep=&quot;auto&quot; text-align=&quot;left&quot;>        &lt;xsl:variable name=&quot;variable&quot;>         Quantity        &lt;/xsl:variable>        &lt;xsl:call-template name=&quot;split_value&quot;>         &lt;xsl:with-param name=&quot;value&quot; select=&quot;$variable&quot; />         &lt;xsl:with-param name=&quot;max_length&quot; select=&quot;number(6)&quot; />        &lt;/xsl:call-template>       &lt;/fo:block>      &lt;/fo:table-cell>      &lt;fo:table-cell padding=&quot;1mm&quot;>       &lt;fo:block font-size=&quot;10pt&quot; font-weight=&quot;bold&quot; hyphenate=&quot;true&quot; hyphenation-character=&quot;-&quot;        hyphenation-keep=&quot;auto&quot; text-align=&quot;left&quot;>        &lt;xsl:variable name=&quot;variable&quot;>         Unit Price        &lt;/xsl:variable>        &lt;xsl:call-template name=&quot;split_value&quot;>         &lt;xsl:with-param name=&quot;value&quot; select=&quot;$variable&quot; />         &lt;xsl:with-param name=&quot;max_length&quot; select=&quot;number(6)&quot; />        &lt;/xsl:call-template>       &lt;/fo:block>      &lt;/fo:table-cell>      &lt;xsl:if test=&quot;/PrintJasper/Resource/Proposal/PricingInformation/@Additional='Y'&quot;>       &lt;fo:table-cell padding=&quot;1mm&quot;>        &lt;fo:block font-size=&quot;10pt&quot; font-weight=&quot;bold&quot; hyphenate=&quot;true&quot; hyphenation-character=&quot;-&quot;        hyphenation-keep=&quot;auto&quot; text-align=&quot;left&quot;>         &lt;xsl:variable name=&quot;variable&quot;>Upfront Charges&lt;/xsl:variable>         &lt;xsl:call-template name=&quot;split_value&quot;>          &lt;xsl:with-param name=&quot;value&quot; select=&quot;$variable&quot; />          &lt;xsl:with-param name=&quot;max_length&quot; select=&quot;number(6)&quot; />         &lt;/xsl:call-template>        &lt;/fo:block>       &lt;/fo:table-cell>      &lt;/xsl:if>      &lt;fo:table-cell padding=&quot;1mm&quot;>       &lt;fo:block font-size=&quot;10pt&quot; font-weight=&quot;bold&quot; hyphenate=&quot;true&quot; hyphenation-character=&quot;-&quot;        hyphenation-keep=&quot;auto&quot; text-align=&quot;left&quot;>        &lt;xsl:variable name=&quot;variable&quot;>         Adjustment        &lt;/xsl:variable>        &lt;xsl:call-template name=&quot;split_value&quot;>         &lt;xsl:with-param name=&quot;value&quot; select=&quot;$variable&quot; />         &lt;xsl:with-param name=&quot;max_length&quot; select=&quot;number(6)&quot; />        &lt;/xsl:call-template>       &lt;/fo:block>      &lt;/fo:table-cell>      &lt;fo:table-cell padding=&quot;1mm&quot;>       &lt;fo:block font-size=&quot;10pt&quot; font-weight=&quot;bold&quot; hyphenate=&quot;true&quot; hyphenation-character=&quot;-&quot; text-align=&quot;left&quot;>        &lt;xsl:variable name=&quot;variable&quot;>         Line Total        &lt;/xsl:variable>        &lt;xsl:call-template name=&quot;split_value&quot;>         &lt;xsl:with-param name=&quot;value&quot; select=&quot;$variable&quot; />         &lt;xsl:with-param name=&quot;max_length&quot; select=&quot;number(6)&quot; />        &lt;/xsl:call-template>       &lt;/fo:block>      &lt;/fo:table-cell>     &lt;/fo:table-row>    &lt;/fo:table-header>    &lt;!-- Including order lines -->    &lt;!--Table Body -->    &lt;fo:table-body background-color=&quot;White&quot; font-family=&quot;{$xslfontfamily}&quot; font-size=&quot;10pt&quot;>     &lt;xsl:choose>      &lt;xsl:when test=&quot;count(/PrintJasper/Order/OrderLines/OrderLine[@LineType=$orderLineType])=0&quot;>       &lt;fo:table-row background-color=&quot;#ffffff&quot; border-left-width=&quot;0pt&quot; border-right-width=&quot;0pt&quot;        border-style=&quot;solid&quot; border-width=&quot;.5pt&quot;>        &lt;fo:table-cell border-bottom-width=&quot;0.25pt&quot; border-color=&quot;#000000&quot; border-left-width=&quot;0pt&quot;         border-right-width=&quot;0pt&quot; border-style=&quot;solid&quot; border-top-width=&quot;0.25pt&quot; number-columns-spanned=&quot;6&quot; padding=&quot;1mm&quot;>         &lt;fo:block linefeed-treatment=&quot;preserve&quot;>          &lt;xsl:text>No records to Display&lt;/xsl:text>          &lt;xsl:value-of select=&quot;count(/PrintJasper/Order/OrderLines/OrderLine[@LineType='$orderLineType'])&quot;/>          &lt;xsl:value-of select=&quot;$orderLineType&quot;/>         &lt;/fo:block>        &lt;/fo:table-cell>       &lt;/fo:table-row>      &lt;/xsl:when>      &lt;xsl:when test=&quot;(/PrintJasper/UserInput/@IncludeMinorLines=&amp;quot;Y&amp;quot;) and (count(/PrintJasper/Order/OrderLines/OrderLine[@LineType=$orderLineType]) > 0)&quot;>       &lt;xsl:for-each select=&quot;/PrintJasper/Order/OrderLines/OrderLine[@LineType=$orderLineType]&quot;>        &lt;xsl:call-template name=&quot;paintOrderLine&quot;>         &lt;xsl:with-param name=&quot;orderLineElement&quot; select=&quot;.&quot; />         &lt;xsl:with-param name=&quot;index&quot; select=&quot;position()&quot; />        &lt;/xsl:call-template>       &lt;/xsl:for-each>      &lt;/xsl:when>      &lt;xsl:otherwise>       &lt;xsl:for-each select=&quot;/PrintJasper/Order/OrderLines/OrderLine[@LineType=$orderLineType]&quot;>        &lt;xsl:if test=&quot;(./@IsBundleParent='N' and not(normalize-space(./@BundleParentOrderLineKey))) or (./@IsBundleParent=&amp;quot;Y&amp;quot;)&quot;>         &lt;xsl:call-template name=&quot;paintOrderLine&quot;>          &lt;xsl:with-param name=&quot;orderLineElement&quot; select=&quot;.&quot; />          &lt;xsl:with-param name=&quot;index&quot; select=&quot;position()&quot; />         &lt;/xsl:call-template>        &lt;/xsl:if>       &lt;/xsl:for-each>      &lt;/xsl:otherwise>     &lt;/xsl:choose>    &lt;/fo:table-body>   &lt;/fo:table>  &lt;/xsl:template>  &lt;xsl:template name=&quot;paintOrderLine&quot;>   &lt;xsl:param name=&quot;orderLineElement&quot; />   &lt;xsl:param name=&quot;index&quot; />   &lt;fo:table-row background-color=&quot;#CCCCCC&quot; border-style=&quot;solid&quot; border-width=&quot;.5pt&quot;>    &lt;xsl:attribute name=&quot;background-color&quot;>                 &lt;xsl:choose>                     &lt;xsl:when test=&quot;($index mod 2) = 0&quot;>                         &lt;xsl:text>#F3F3F3&lt;/xsl:text>                     &lt;/xsl:when>                     &lt;xsl:otherwise>                         &lt;xsl:text>#FFFFFF&lt;/xsl:text>                     &lt;/xsl:otherwise>                 &lt;/xsl:choose>             &lt;/xsl:attribute>    &lt;fo:table-cell border-bottom-width=&quot;0.25pt&quot; border-color=&quot;#000000&quot; border-left-width=&quot;0pt&quot;     border-right-width=&quot;0pt&quot; border-style=&quot;solid&quot; border-top-width=&quot;0.25pt&quot; padding=&quot;1mm&quot;>     &lt;fo:block>      &lt;xsl:variable name=&quot;path&quot;       select=&quot;concat($orderLineElement/ItemDetails/PrimaryInformation/@ImageLocation, '/', $orderLineElement/ItemDetails/PrimaryInformation/@ImageID)&quot; />      &lt;fo:external-graphic content-height=&quot;scale-to-fit&quot; content-width=&quot;scale-to-fit&quot; height=&quot;0.28in&quot;       src=&quot;url({$path})&quot; width=&quot;0.41in&quot; />     &lt;/fo:block>    &lt;/fo:table-cell>    &lt;fo:table-cell border-bottom-width=&quot;0.25pt&quot; border-color=&quot;#000000&quot; border-left-width=&quot;0pt&quot;     border-right-width=&quot;0pt&quot; border-style=&quot;solid&quot; border-top-width=&quot;0.25pt&quot; padding=&quot;1mm&quot;>     &lt;fo:block text-align=&quot;left&quot;>      &lt;fo:list-block>       &lt;fo:list-item>        &lt;fo:list-item-label>         &lt;fo:block />        &lt;/fo:list-item-label>        &lt;fo:list-item-body>         &lt;fo:block hyphenate=&quot;true&quot; hyphenation-character=&quot;-&quot;>          &lt;xsl:variable name=&quot;ItemShortDesc&quot;>           &lt;xsl:value-of            select=&quot;concat($orderLineElement/ItemDetails/PrimaryInformation/@ShortDescription,' (', $orderLineElement/ItemDetails/@ItemID,')' )&quot; />          &lt;/xsl:variable>          &lt;xsl:call-template name=&quot;split_value&quot;>           &lt;xsl:with-param name=&quot;value&quot; select=&quot;$ItemShortDesc&quot; />           &lt;xsl:with-param name=&quot;max_length&quot; select=&quot;number(4)&quot; />          &lt;/xsl:call-template>         &lt;/fo:block>         &lt;fo:block linefeed-treatment=&quot;preserve&quot;>          &lt;xsl:text />         &lt;/fo:block>        &lt;/fo:list-item-body>       &lt;/fo:list-item>       &lt;fo:list-item>        &lt;fo:list-item-label>         &lt;fo:block />        &lt;/fo:list-item-label>        &lt;fo:list-item-body>         &lt;fo:block>          &lt;xsl:call-template name=&quot;split_value&quot;>           &lt;xsl:with-param name=&quot;value&quot; select=&quot;$orderLineElement/ItemDetails/PrimaryInformation/@Description&quot; />           &lt;xsl:with-param name=&quot;max_length&quot; select=&quot;number(4)&quot; />          &lt;/xsl:call-template>         &lt;/fo:block>        &lt;/fo:list-item-body>       &lt;/fo:list-item>      &lt;/fo:list-block>      &lt;xsl:if       test=&quot;count($orderLineElement/ItemDetails/ItemAttributeGroupTypeList/ItemAttributeGroupType[@ItemAttributeGroupType = 'FOR_PRINT']/ItemAttributeGroupList/ItemAttributeGroup/ItemAttributeList/ItemAttribute)&quot;>       &lt;fo:block linefeed-treatment=&quot;preserve&quot;>        &lt;xsl:text />       &lt;/fo:block>       &lt;fo:table table-layout=&quot;fixed&quot;>        &lt;fo:table-column column-width=&quot;1.65in&quot; />        &lt;fo:table-column column-width=&quot;0.15in&quot; />        &lt;fo:table-column column-width=&quot;1.65in&quot; />        &lt;fo:table-body>         &lt;xsl:for-each          select=&quot;$orderLineElement/ItemDetails/ItemAttributeGroupTypeList/ItemAttributeGroupType[@ItemAttributeGroupType = 'FOR_PRINT']/ItemAttributeGroupList/ItemAttributeGroup/ItemAttributeList/ItemAttribute&quot;>          &lt;fo:table-row height=&quot;0.17in&quot;>           &lt;fo:table-cell>            &lt;fo:block font-weight=&quot;bold&quot; text-align=&quot;right&quot;>             &lt;xsl:call-template name=&quot;split_value&quot;>              &lt;xsl:with-param name=&quot;value&quot; select=&quot;@ItemAttributeName&quot; />              &lt;xsl:with-param name=&quot;max_length&quot; select=&quot;number(4)&quot; />             &lt;/xsl:call-template>            &lt;/fo:block>           &lt;/fo:table-cell>           &lt;fo:table-cell empty-cells=&quot;hide&quot;>            &lt;fo:block>             &lt;xsl:text />            &lt;/fo:block>           &lt;/fo:table-cell>           &lt;fo:table-cell>            &lt;fo:block text-align=&quot;left&quot;>             &lt;xsl:call-template name=&quot;split_value&quot;>              &lt;xsl:with-param name=&quot;value&quot; select=&quot;@Value&quot; />              &lt;xsl:with-param name=&quot;max_length&quot; select=&quot;number(4)&quot; />             &lt;/xsl:call-template>            &lt;/fo:block>           &lt;/fo:table-cell>          &lt;/fo:table-row>         &lt;/xsl:for-each>        &lt;/fo:table-body>       &lt;/fo:table>      &lt;/xsl:if>     &lt;/fo:block>    &lt;/fo:table-cell>    &lt;fo:table-cell border-bottom-width=&quot;0.25pt&quot; border-color=&quot;#000000&quot; border-left-width=&quot;0pt&quot;     border-right-width=&quot;0pt&quot; border-style=&quot;solid&quot; border-top-width=&quot;0.25pt&quot; padding=&quot;1mm&quot;>     &lt;fo:block text-align=&quot;left&quot;>      &lt;xsl:value-of       select=&quot;concat(formatNumber($localeCode, @OrderedQty) ,' ' ,$orderLineElement/ItemDetails/@UnitOfMeasure)&quot; />     &lt;/fo:block>    &lt;/fo:table-cell>    &lt;fo:table-cell border-bottom-width=&quot;0.25pt&quot; border-color=&quot;#000000&quot; border-left-width=&quot;0pt&quot;     border-right-width=&quot;0pt&quot; border-style=&quot;solid&quot; border-top-width=&quot;0.25pt&quot; padding=&quot;1mm&quot;>     &lt;fo:block text-align=&quot;right&quot;>      &lt;xsl:choose>       &lt;xsl:when test=&quot;number($orderLineElement/ComputedPrice/@UnitPrice)&quot;>        &lt;xsl:call-template name=&quot;formatCurrency&quot;>         &lt;xsl:with-param name=&quot;amount&quot; select=&quot;$orderLineElement/ComputedPrice/@UnitPrice&quot; />        &lt;/xsl:call-template>       &lt;/xsl:when>       &lt;xsl:otherwise>        &lt;xsl:value-of select=&quot;$orderLineElement/ComputedPrice/@UnitPrice&quot; />       &lt;/xsl:otherwise>      &lt;/xsl:choose>     &lt;/fo:block>    &lt;/fo:table-cell>    &lt;xsl:if test=&quot;/PrintJasper/Resource/Proposal/PricingInformation/@Additional='Y'&quot;>    &lt;fo:table-cell border-bottom-width=&quot;0.25pt&quot; border-color=&quot;#000000&quot; border-left-width=&quot;0pt&quot;     border-right-width=&quot;0pt&quot; border-style=&quot;solid&quot; border-top-width=&quot;0.25pt&quot; padding=&quot;1mm&quot;>     &lt;fo:block text-align=&quot;right&quot;>      &lt;xsl:choose>       &lt;xsl:when test=&quot;number($orderLineElement/ComputedPrice/@AdditionalLinePriceTotal)&quot;>        &lt;xsl:call-template name=&quot;formatCurrency&quot;>         &lt;xsl:with-param name=&quot;amount&quot; select=&quot;$orderLineElement/ComputedPrice/@AdditionalLinePriceTotal&quot; />        &lt;/xsl:call-template>       &lt;/xsl:when>       &lt;xsl:otherwise>        &lt;xsl:value-of select=&quot;$orderLineElement/ComputedPrice/@AdditionalLinePriceTotal&quot; />       &lt;/xsl:otherwise>      &lt;/xsl:choose>     &lt;/fo:block>    &lt;/fo:table-cell>    &lt;/xsl:if>    &lt;fo:table-cell border-bottom-width=&quot;0.25pt&quot; border-color=&quot;#000000&quot; border-left-width=&quot;0pt&quot;     border-right-width=&quot;0pt&quot; border-style=&quot;solid&quot; border-top-width=&quot;0.25pt&quot; padding=&quot;1mm&quot;>     &lt;fo:block text-align=&quot;right&quot;>      &lt;xsl:call-template name=&quot;formatCurrency&quot;>       &lt;xsl:with-param name=&quot;amount&quot; select=&quot;$orderLineElement/ComputedPrice/@Discount&quot; />      &lt;/xsl:call-template>     &lt;/fo:block>    &lt;/fo:table-cell>    &lt;fo:table-cell border-bottom-width=&quot;0.25pt&quot; border-color=&quot;#000000&quot; border-left-width=&quot;0pt&quot;     border-right-width=&quot;0pt&quot; border-style=&quot;solid&quot; border-top-width=&quot;0.25pt&quot; padding=&quot;1mm&quot;>     &lt;fo:block text-align=&quot;right&quot;>      &lt;xsl:call-template name=&quot;formatCurrency&quot;>       &lt;xsl:with-param name=&quot;amount&quot; select=&quot;$orderLineElement/ComputedPrice/@LineTotal&quot; />      &lt;/xsl:call-template>     &lt;/fo:block>    &lt;/fo:table-cell>   &lt;/fo:table-row>  &lt;/xsl:template>  &lt;!--PricingInformation -->  &lt;xsl:template match=&quot;Resource/Proposal/PricingInformation&quot;>   &lt;xsl:variable name=&quot;rootVariable&quot; select=&quot;/PrintJasper/Resource/Proposal/PricingInformation&quot; />   &lt;!--starting inside table -->   &lt;xsl:if    test=&quot;count(/PrintJasper/Order/OrderLines/OrderLine) and (/PrintJasper/Resource/Proposal/OrderLines/@QuoteLines=&amp;quot;Y&amp;quot; or /PrintJasper/Resource/Proposal/OrderLines/@RecommendedLines=&amp;quot;Y&amp;quot;)&quot;>    &lt;xsl:if     test=&quot;$rootVariable/@Discounts='Y' or $rootVariable/@GrandTotal='Y' or $rootVariable/@ShippingCharges='Y' or $rootVariable/@SubTotal='Y' or $rootVariable/@Taxes='Y'&quot;>     &lt;fo:table table-layout=&quot;fixed&quot;>      &lt;fo:table-column column-width=&quot;1.5in&quot; />      &lt;fo:table-column column-width=&quot;0.25in&quot; />      &lt;fo:table-column column-width=&quot;1.5in&quot; />      &lt;fo:table-body>       &lt;xsl:if test=&quot;/PrintJasper/Resource/Proposal/PricingInformation/@SubTotal='Y'&quot;>        &lt;xsl:call-template name=&quot;createPricingLine&quot;>         &lt;xsl:with-param name=&quot;headerName&quot;>          &lt;xsl:text>Line Sub Total&lt;/xsl:text>         &lt;/xsl:with-param>         &lt;xsl:with-param name=&quot;paramValue&quot; select=&quot;/PrintJasper/Order/OverallTotals/@SubtotalWithoutTaxes&quot; />        &lt;/xsl:call-template>       &lt;/xsl:if>       &lt;xsl:if test=&quot;/PrintJasper/Resource/Proposal/PricingInformation/@Discounts='Y'&quot;>        &lt;xsl:call-template name=&quot;createPricingLine&quot;>         &lt;xsl:with-param name=&quot;headerName&quot;>          &lt;xsl:text>Header Adjustments&lt;/xsl:text>         &lt;/xsl:with-param>         &lt;xsl:with-param name=&quot;paramValue&quot; select=&quot;/PrintJasper/Order/OverallTotals/@HeaderAdjustmentWithoutShipping&quot; />        &lt;/xsl:call-template>       &lt;/xsl:if>       &lt;xsl:if test=&quot;/PrintJasper/Resource/Proposal/PricingInformation/@ShippingCharges='Y'&quot;>        &lt;xsl:call-template name=&quot;createPricingLine&quot;>         &lt;xsl:with-param name=&quot;headerName&quot;>          &lt;xsl:text>Shipping Charges&lt;/xsl:text>         &lt;/xsl:with-param>         &lt;xsl:with-param name=&quot;paramValue&quot; select=&quot;/PrintJasper/Order/OverallTotals/@HdrShippingCharges&quot; />        &lt;/xsl:call-template>       &lt;/xsl:if>       &lt;xsl:if test=&quot;/PrintJasper/Resource/Proposal/PricingInformation/@Taxes='Y'&quot;>        &lt;xsl:call-template name=&quot;createPricingLine&quot;>         &lt;xsl:with-param name=&quot;headerName&quot;>          &lt;xsl:text>Taxes&lt;/xsl:text>         &lt;/xsl:with-param>         &lt;xsl:with-param name=&quot;paramValue&quot; select=&quot;/PrintJasper/Order/OverallTotals/@GrandTax&quot; />        &lt;/xsl:call-template>       &lt;/xsl:if>       &lt;xsl:if test=&quot;/PrintJasper/Resource/Proposal/PricingInformation/@GrandTotal='Y'&quot;>        &lt;fo:table-row>         &lt;fo:table-cell border-width=&quot;0mm&quot; font-weight=&quot;bold&quot; padding=&quot;1mm&quot; starts-row=&quot;true&quot;>          &lt;fo:block text-align=&quot;right&quot;>           &lt;xsl:variable name=&quot;variable&quot;>            Order Total           &lt;/xsl:variable>           &lt;xsl:call-template name=&quot;split_value&quot;>            &lt;xsl:with-param name=&quot;value&quot; select=&quot;$variable&quot; />            &lt;xsl:with-param name=&quot;max_length&quot; select=&quot;number(6)&quot; />           &lt;/xsl:call-template>          &lt;/fo:block>         &lt;/fo:table-cell>         &lt;fo:table-cell empty-cells=&quot;hide&quot;>          &lt;fo:block />         &lt;/fo:table-cell>         &lt;fo:table-cell border-top-style=&quot;solid&quot; border-top-width=&quot;0.25mm&quot; ends-row=&quot;true&quot; padding=&quot;1mm&quot;>          &lt;fo:block text-align=&quot;right&quot;>           &lt;xsl:call-template name=&quot;formatCurrency&quot;>            &lt;xsl:with-param name=&quot;amount&quot; select=&quot;/PrintJasper/Order/OverallTotals/@GrandTotal&quot; />           &lt;/xsl:call-template>          &lt;/fo:block>         &lt;/fo:table-cell>        &lt;/fo:table-row>       &lt;/xsl:if>      &lt;/fo:table-body>     &lt;/fo:table>     &lt;!--Ending inside table -->    &lt;/xsl:if>   &lt;/xsl:if>  &lt;/xsl:template>  &lt;xsl:template name=&quot;createPricingLine&quot;>   &lt;xsl:param name=&quot;headerName&quot; />   &lt;xsl:param name=&quot;paramValue&quot; />   &lt;fo:table-row>    &lt;fo:table-cell border-width=&quot;0mm&quot; font-weight=&quot;bold&quot; padding=&quot;1mm&quot; starts-row=&quot;true&quot;>     &lt;fo:block text-align=&quot;right&quot;>      &lt;xsl:call-template name=&quot;split_value&quot;>       &lt;xsl:with-param name=&quot;value&quot; select=&quot;$headerName&quot; />       &lt;xsl:with-param name=&quot;max_length&quot; select=&quot;number(6)&quot; />      &lt;/xsl:call-template>     &lt;/fo:block>    &lt;/fo:table-cell>    &lt;fo:table-cell empty-cells=&quot;hide&quot;>     &lt;fo:block />    &lt;/fo:table-cell>    &lt;fo:table-cell border-width=&quot;0mm&quot; ends-row=&quot;true&quot; padding=&quot;1mm&quot;>     &lt;fo:block text-align=&quot;right&quot;>      &lt;xsl:call-template name=&quot;formatCurrency&quot;>       &lt;xsl:with-param name=&quot;amount&quot; select=&quot;$paramValue&quot; />      &lt;/xsl:call-template>     &lt;/fo:block>    &lt;/fo:table-cell>   &lt;/fo:table-row>  &lt;/xsl:template>  &lt;!--Closing Comments Template -->  &lt;xsl:template match=&quot;UserInput/@ClosingComments&quot;>   &lt;!--starting inside table -->   &lt;fo:table table-layout=&quot;fixed&quot;>    &lt;fo:table-column column-width=&quot;100%&quot; />    &lt;fo:table-body>     &lt;fo:table-row>      &lt;fo:table-cell padding=&quot;1mm&quot;>       &lt;fo:block>        &lt;xsl:value-of select=&quot;/PrintJasper/UserInput/@ClosingComments&quot; />       &lt;/fo:block>      &lt;/fo:table-cell>     &lt;/fo:table-row>    &lt;/fo:table-body>   &lt;/fo:table>   &lt;!--Ending inside table -->  &lt;/xsl:template>  &lt;!--Complimentary Comments Template -->  &lt;xsl:template match=&quot;UserInput/@ComplimentaryClosing&quot;>   &lt;!--starting inside table -->   &lt;fo:table table-layout=&quot;fixed&quot;>    &lt;fo:table-column column-width=&quot;100%&quot; />    &lt;fo:table-body>     &lt;fo:table-row>      &lt;fo:table-cell padding=&quot;1mm&quot;>       &lt;fo:block>        &lt;xsl:value-of select=&quot;/PrintJasper/UserInput/@ComplimentaryClosing&quot; />       &lt;/fo:block>      &lt;/fo:table-cell>     &lt;/fo:table-row>    &lt;/fo:table-body>   &lt;/fo:table>   &lt;!--Ending inside table -->   &lt;xsl:variable name=&quot;newline&quot;>    &lt;xsl:text />   &lt;/xsl:variable>  &lt;/xsl:template>  &lt;xsl:template name=&quot;split_value&quot;>   &lt;xsl:param name=&quot;value&quot; />   &lt;xsl:param name=&quot;max_length&quot; />   &lt;xsl:variable name=&quot;ret&quot;>    &lt;xsl:if test=&quot;string-length($value) &amp;lt;= $max_length&quot;>     &lt;xsl:value-of select=&quot;$value&quot; />    &lt;/xsl:if>    &lt;xsl:if test=&quot;string-length($value) > $max_length&quot;>     &lt;xsl:value-of select=&quot;substring($value, 1, $max_length)&quot; />     &lt;xsl:value-of select=&quot;'&amp;#x200b;'&quot; />     &lt;xsl:call-template name=&quot;split_value&quot;>      &lt;xsl:with-param name=&quot;value&quot; select=&quot;substring($value, $max_length + 1)&quot; />      &lt;xsl:with-param name=&quot;max_length&quot; select=&quot;$max_length&quot; />     &lt;/xsl:call-template>    &lt;/xsl:if>   &lt;/xsl:variable>   &lt;xsl:value-of select=&quot;$ret&quot; />  &lt;/xsl:template>  &lt;xsl:template name=&quot;formatNumber&quot;>   &lt;xsl:param name=&quot;value&quot; />   &lt;xsl:param name=&quot;separatorEvery&quot; select=&quot;string('3')&quot; />   &lt;xsl:variable name=&quot;ret&quot;>    &lt;xsl:if test=&quot;string-length($value) > $separatorEvery&quot;>     &lt;xsl:call-template name=&quot;formatNumber&quot;>      &lt;xsl:with-param name=&quot;value&quot; select=&quot;substring($value, 1, string-length($value) - $separatorEvery)&quot; />      &lt;xsl:with-param name=&quot;separatorEvery&quot; select=&quot;$separatorEvery&quot; />     &lt;/xsl:call-template>     &lt;xsl:value-of select=&quot;','&quot; />    &lt;/xsl:if>    &lt;xsl:value-of select=&quot;substring($value, string-length($value) -$separatorEvery + 1, $separatorEvery)&quot; />   &lt;/xsl:variable>   &lt;xsl:value-of select=&quot;$ret&quot; />  &lt;/xsl:template>  &lt;xsl:template name=&quot;formatCurrency&quot;>   &lt;xsl:param name=&quot;amount&quot; />   &lt;xsl:choose>    &lt;xsl:when test=&quot;starts-with($amount, '-')&quot;>     &lt;xsl:text>-&lt;/xsl:text>     &lt;xsl:value-of select=&quot;$pricePrefix&quot; />     &lt;xsl:call-template name=&quot;formatNumber&quot;>      &lt;xsl:with-param name=&quot;value&quot; select=&quot;substring-before(substring-after($amount,'-'),'.')&quot; />     &lt;/xsl:call-template>     &lt;xsl:text>.&lt;/xsl:text>     &lt;xsl:value-of select=&quot;substring-after($amount,'.')&quot; />    &lt;/xsl:when>    &lt;xsl:otherwise>     &lt;xsl:value-of select=&quot;$pricePrefix&quot; />     &lt;xsl:call-template name=&quot;formatNumber&quot;>      &lt;xsl:with-param name=&quot;value&quot; select=&quot;substring-before($amount,'.')&quot; />     &lt;/xsl:call-template>     &lt;xsl:text>.&lt;/xsl:text>     &lt;xsl:value-of select=&quot;substring-after($amount,'.')&quot; />    &lt;/xsl:otherwise>   &lt;/xsl:choose>  &lt;/xsl:template> &lt;/xsl:stylesheet>"
    TemplateName="Default Template"
    TransformationHeaderKey="YSCDefaultHeaderPK" TransformationHeaderLocaleKey="DefaultLocaleHeaderKey"/>
</YFS_TRANS_HEADER_LOCALEList>